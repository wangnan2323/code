var tbl_ld_jmb_list_Obj=function(){"use strict";var e="//127.0.0.1/sara.dd.ldsw/service/service_tbl_ld_jmb.asmx/",r="",o=!1,f="",i=0,t="",s=function(t){try{n._pr_listtype==null||n._pr_listtype==""||n._pr_listtype=="null"?_blockMessage.show("listtype参数接收失败...","fail"):t.success()}catch(i){_blockMessage.show("initParameter执行失败<br/>"+i.message,"fail")}},l=function(){},h=function(n){f="";n.success()},u=function(){},c=function(f){try{$("#table_grid_tbl_ld_jmb_list").bootstrapTable({cache:!1,height:200,striped:!0,pagination:o,pageSize:r,pageList:[r],pageNumber:n._pr_gridpageindex,search:!1,showColumns:!1,showRefresh:!1,clickToSelect:!0,singleSelect:!1,checkboxHeader:!1,idField:"sys_id",sidePagination:"webserver",columns:[{field:"_checkbox",checkbox:!0,formatter:function(r,u){switch(n._pr_listtype){case"1":return("^"+n._pr_set_jmbhids+"^").indexOf("^"+u.sys_id+"^")>-1?(i=Number(i)+Number(u.f_jmje),n._pr_gridselectids+="^"+u.sys_id,n._pr_gridselectids=n._pr_gridselectids.trimStartEnd("^"),t+="^"+u.f_jmbh,t=t.trimStartEnd("^"),{disabled:!1,checked:!0}):{disabled:!1,checked:!1};case"2":return("^"+n._pr_set_jmbhids+"^").indexOf("^"+u.sys_id+"^")>-1?(i=Number(i)+Number(u.f_jmje),n._pr_gridselectids+="^"+u.sys_id,n._pr_gridselectids=n._pr_gridselectids.trimStartEnd("^"),t+="^"+u.f_jmbh,t=t.trimStartEnd("^"),{disabled:!0,checked:!0}):{disabled:!0,checked:!1}}}},{field:"sys_id",title:"sys_id","class":"gridcell-ordercolumn hidden",align:"center",valign:"middle",visible:!0,sortable:!1},{field:"f_value1",title:"备用字段1","class":"hidden",align:"center",valign:"middle",sortable:!0,clickToSelect:!0,formatter:function(n){return n}},{field:"f_value2",title:"备用字段2","class":"hidden",align:"center",valign:"middle",sortable:!0,clickToSelect:!0,formatter:function(n){return n}},{field:"f_value3",title:"备用字段3","class":"hidden",align:"center",valign:"middle",sortable:!0,clickToSelect:!0,formatter:function(n){return n}},{field:"f_value4",title:"备用字段4","class":"hidden",align:"center",valign:"middle",sortable:!0,clickToSelect:!0,formatter:function(n){return n}},{field:"f_value5",title:"备用字段5","class":"hidden",align:"center",valign:"middle",sortable:!0,clickToSelect:!0,formatter:function(n){return n}},{field:"f_value6",title:"备用字段6","class":"hidden",align:"center",valign:"middle",sortable:!0,clickToSelect:!0,formatter:function(n){return n}},{field:"f_value7",title:"备用字段7","class":"hidden",align:"center",valign:"middle",sortable:!0,clickToSelect:!0,formatter:function(n){return n}},{field:"f_value8",title:"备用字段8","class":"hidden",align:"center",valign:"middle",sortable:!0,clickToSelect:!0,formatter:function(n){return n}},{field:"f_value9",title:"备用字段9","class":"hidden",align:"center",valign:"middle",sortable:!0,clickToSelect:!0,formatter:function(n){return n}},{field:"f_value10",title:"备用字段10","class":"hidden",align:"center",valign:"middle",sortable:!0,clickToSelect:!0,formatter:function(n){return n}},{field:"f_jmbh",title:"减免编号","class":"",align:"center",valign:"middle",sortable:!0,clickToSelect:!0,formatter:function(n){return n}},{field:"f_khbh",title:"客户编号","class":"",align:"center",valign:"middle",sortable:!0,clickToSelect:!0,formatter:function(n){return n}},{field:"f_sbbh",title:"水表编号","class":"",align:"center",valign:"middle",sortable:!0,clickToSelect:!0,formatter:function(n){return n}},{field:"f_yhbh",title:"用户编号","class":"",align:"center",valign:"middle",sortable:!0,clickToSelect:!0,formatter:function(n){return n}},{field:"f_yhm",title:"用户名","class":"",align:"center",valign:"middle",sortable:!0,clickToSelect:!0,formatter:function(n){return n}},{field:"f_jfm",title:"缴费名","class":"",align:"center",valign:"middle",sortable:!0,clickToSelect:!0,formatter:function(n){return n}},{field:"f_khbhid",title:"客户编号id","class":"hidden",align:"center",valign:"middle",sortable:!0,clickToSelect:!0,formatter:function(n){return n}},{field:"f_jmje",title:"减免金额","class":"",align:"center",valign:"middle",sortable:!0,clickToSelect:!0,formatter:function(n){return n}},{field:"f_yy",title:"原因","class":"",align:"center",valign:"middle",sortable:!0,clickToSelect:!0,formatter:function(n){return n}},{field:"f_yyid",title:"原因id","class":"hidden",align:"center",valign:"middle",sortable:!0,clickToSelect:!0,formatter:function(n){return n}},{field:"f_czr",title:"操作人","class":"hidden",align:"center",valign:"middle",sortable:!0,clickToSelect:!0,formatter:function(n){return n}},{field:"f_czrid",title:"操作人id","class":"hidden",align:"center",valign:"middle",sortable:!0,clickToSelect:!0,formatter:function(n){return n}},{field:"f_czsj",title:"操作时间","class":"hidden",align:"center",valign:"middle",sortable:!0,clickToSelect:!0,formatter:function(n){n==""&&(n="1900-01-01 00:00:00");var t=n.toDateTime().Format("yyyy-MM-dd hh:mm:ss");return t=="1900-01-01 00:00:00"&&(t="&nbsp;&nbsp;"),t}},{field:"f_zt",title:"状态","class":"",align:"center",valign:"middle",sortable:!0,clickToSelect:!0,formatter:function(n){return n}},{field:"f_ztid",title:"状态id","class":"hidden",align:"center",valign:"middle",sortable:!0,clickToSelect:!0,formatter:function(n){return n}},{field:"f_jfbh",title:"缴费编号","class":"",align:"center",valign:"middle",sortable:!0,clickToSelect:!0,formatter:function(n){return n}},{field:"f_jfid",title:"缴费id","class":"hidden",align:"center",valign:"middle",sortable:!0,clickToSelect:!0,formatter:function(n){return n}},{field:"f_syqk",title:"使用情况","class":"hidden",align:"center",valign:"middle",sortable:!0,clickToSelect:!0,formatter:function(n){return n}},{field:"f_lxtkhh",title:"老系统客户号","class":"hidden",align:"center",valign:"middle",sortable:!0,clickToSelect:!0,formatter:function(n){return n}},{field:"f_yhbhid",title:"用户编号id","class":"hidden",align:"center",valign:"middle",sortable:!0,clickToSelect:!0,formatter:function(n){return n}},{field:"f_dy",title:"地域","class":"hidden",align:"center",valign:"middle",sortable:!0,clickToSelect:!0,formatter:function(n){return n}},{field:"f_sc",title:"水厂","class":"hidden",align:"center",valign:"middle",sortable:!0,clickToSelect:!0,formatter:function(n){return n}},{field:"f_qy",title:"区域","class":"hidden",align:"center",valign:"middle",sortable:!0,clickToSelect:!0,formatter:function(n){return n}},{field:"f_pq",title:"片区","class":"hidden",align:"center",valign:"middle",sortable:!0,clickToSelect:!0,formatter:function(n){return n}},{field:"f_sbbhid",title:"水表编号id","class":"hidden",align:"center",valign:"middle",sortable:!0,clickToSelect:!0,formatter:function(n){return n}},{field:"f_sblx",title:"水表类型","class":"hidden",align:"center",valign:"middle",sortable:!0,clickToSelect:!0,formatter:function(n){return n}},{field:"f_yslb",title:"用水类别","class":"hidden",align:"center",valign:"middle",sortable:!0,clickToSelect:!0,formatter:function(n){return n}},{field:"f_sblxid",title:"水表类型id","class":"hidden",align:"center",valign:"middle",sortable:!0,clickToSelect:!0,formatter:function(n){return n}},{field:"f_yslbid",title:"用水类别id","class":"hidden",align:"center",valign:"middle",sortable:!0,clickToSelect:!0,formatter:function(n){return n}},{field:"f_dz",title:"地址","class":"hidden",align:"center",valign:"middle",sortable:!0,clickToSelect:!0,formatter:function(n){return n}},{field:"f_bz",title:"备注","class":"hidden",align:"center",valign:"middle",sortable:!0,clickToSelect:!0,formatter:function(n){var t=n;return t.length>10&&(t=t.substr(0,10)+"..."),t}},{field:"f_dh",title:"电话","class":"hidden",align:"center",valign:"middle",sortable:!0,clickToSelect:!0,formatter:function(n){return n}},{field:"f_dyid",title:"地域id","class":"hidden",align:"center",valign:"middle",sortable:!0,clickToSelect:!0,formatter:function(n){return n}},{field:"f_scid",title:"水厂id","class":"hidden",align:"center",valign:"middle",sortable:!0,clickToSelect:!0,formatter:function(n){return n}},{field:"f_qyid",title:"区域id","class":"hidden",align:"center",valign:"middle",sortable:!0,clickToSelect:!0,formatter:function(n){var t=n;return t.length>10&&(t=t.substr(0,10)+"..."),t}},{field:"f_pqid",title:"片区id","class":"hidden",align:"center",valign:"middle",sortable:!0,clickToSelect:!0,formatter:function(n){return n}},{field:"",title:"操作","class":"hidden",align:"center",valign:"middle",sortable:!1,clickToSelect:!1,formatter:function(){switch(n._pr_listtype){case"1":return'<a class="edit ml10" href="javascript:void(0)" title="编辑"><i class="glyphicon glyphicon-edit"><\/i><\/a>';case"2":return'<a class="view ml10" href="javascript:void(0)" title="浏览"><i class="glyphicon glyphicon-eye-open"><\/i><\/a>'}},events:{"click .view":function(n,t,i){transToDetailPage(i.sys_id,"2")},"click .edit":function(n,t,i){transToDetailPage(i.sys_id,"1")}}}],onPageChange:function(t,i){n._pr_gridpageindex=i;n.bindGrid()},rowStyle:function(){return{}},onLoadSuccess:function(){},onCheck:function(r){n._pr_gridselectids+="^"+r.sys_id;n._pr_gridselectids=n._pr_gridselectids.trimStartEnd("^");t+="^"+r.f_jmbh;t=t.trimStartEnd("^");i=Number(i)+Number(r.f_jmje);n.onGridSelecteChanged(n._pr_gridselectids,t,i);u()},onUncheck:function(r){n._pr_gridselectids=("^"+n._pr_gridselectids+"^").replaceAll("^"+r.sys_id+"^","^");n._pr_gridselectids=n._pr_gridselectids.trimStartEnd("^");t=("^"+t+"^").replaceAll("^"+r.f_jmbh+"^","^");t=t.trimStartEnd("^");i=Number(i)-Number(r.f_jmje);n.onGridSelecteChanged(n._pr_gridselectids,t,i);u()},onCheckAll:function(){},onUncheckAll:function(){}});f.success()}catch(e){_blockMessage.show("initGrid执行失败<br/>"+e.message,"fail")}},a=function(){},n={_pr_appcode:"",_pr_listtype:"",_pr_gridselectids:"",_pr_gridpageindex:1,_pr_set_cbhhid:"",_pr_set_jmbhids:"",onGridSelecteChanged:function(){},init:function(n){try{s({success:function(){h({success:function(){c({success:function(){n.success()}})}})}})}catch(t){_blockMessage.show("程序初始化失败。<br/>"+t.message,"fail")}},bindGrid:function(t){setTimeout(function(){var i;$("#table_grid_tbl_ld_jmb_list").bootstrapTable("showLoading");i=f;i!=""&&(i+="and");i+=" sys_delflag = '0'";i+=" and f_khbhid = '"+n._pr_set_khbhid+"'";i+=" and f_ztid = '0'";n._pr_set_jmbhids!=""&&(i+=" and sys_id in ('"+n._pr_set_jmbhids.replaceAll("^","','")+"')");var o={whereString:i,orderByString:" sys_id desc",columnsString:"f_value1^f_value2^f_value3^f_value4^f_value5^f_value6^f_value7^f_value8^f_value9^f_value10^f_jmbh^f_khbh^f_khbhid^f_jmje^f_yy^f_yyid^f_czr^f_czrid^f_czsj^f_zt^f_ztid^f_bz^f_jfbh^f_jfid^f_syqk^f_lxtkhh^f_yhbh^f_yhbhid^f_dy^f_sc^f_qy^f_pq^f_sbbh^f_sbbhid^f_sblx^f_yslb^f_sblxid^f_yslbid^f_yhm^f_jfm^f_dz^f_dh^f_dyid^f_scid^f_qyid^f_pqid^sys_id",pageSizeString:r,pageIndexString:n._pr_gridpageindex,clientInf:_clientInf};doAjaxFunction(e,"GetList",o,{success:function(n){var i=new Function("","return "+n)();$("#table_grid_tbl_ld_jmb_list").bootstrapTable("hideLoading");$("#table_grid_tbl_ld_jmb_list").bootstrapTable("loadJson",i);u();t!=undefined&&t!=null&&t.success()},fail:function(n){t!=undefined&&t!=null&&t.fail(n)}})},0)},end:function(){}};return n}();