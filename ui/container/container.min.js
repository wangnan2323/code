var containerObj;$(document).ready(function(){"use strict";containerObj=function(){var i=function(){i.resizeHandler||clearTimeout(i.resizeHandler);i.resizeHandler=setTimeout(function(){v.initPageSize();i.resizeHandler=null},100)},o;i.resizeHandler=null;var h="//127.0.0.1/sara.dd.ldsw/service/service_login.asmx/",e=$("#div_main"),n=$("#div_container1"),t=$("#div_container2"),c=e.find("iframe"),l=$("#div_process_bar"),u=20,r="animationend";try{r={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"}[Modernizr.prefixed("animation")]}catch(nt){}o=!1;try{o=Modernizr.cssanimations}catch(nt){}var s=!1,y=function(){var i=n;n=t;t=i},a=function(i){switch(i){case"hide":t.css("z-index",u-10);n.css("z-index",u+10);break;case"show":t.css("z-index",u+10);n.css("z-index",u-10)}},tt=function(){var n=getBrowerVersion(),t=n.browser+"_"+n.version;t=="IE_8.0"&&(window.location.href=f("//"+commonObj.projectname+"/ui/browerversion/browerversion.html"))},p=function(){var n=$(window).height();e.height(n);c.height(n);c.width(e.width())},f=function(n){if(n.indexOf("?")>-1){var t=n.split("?"),r=t[0],u=t[1].split("&"),i=r+"?random="+parseInt(1e4*Math.random());return $.each(u,function(n,t){if(t!=""){var r=t.split("=");r.length==2&&(i+="&"+r[0]+"="+encodeURIComponent(r[1]))}}),i}return n+"?random="+parseInt(1e4*Math.random())},w=function(i,u){switch(i.split("-")[1]){case"show":a("show");t.off(r).addClass(i).on(r,function(){t.removeClass(i);n.css("display","none");u.success()});t.css("display","block");break;case"hide":a("hide");n.off(r).addClass(i).on(r,function(){n.removeClass(i);n.css("display","none");u.success()});t.css("display","block")}},b=function(i,r){if(o){if(s)return;s=!0;l.addClass("div-process-loading");$(".div-loader-container").css("display","");var u=t.find("iframe");$(u).on("load",function(){$(u).off("load");w(r,{success:function(){l.removeClass("div-process-loading");$(".div-loader-container").css("display","none");n.find("iframe").attr("src","");window.currentFrame=u;y();s=!1}})});u.attr("src",f(i))}else n.find("iframe").attr("src",f(i))},k=function(){var r=requestQuery("foreurl")||"",t=requestQuery("uuid")||"",u=requestQuery("uid")||"",e,i;(r==""||u=="")&&(window.location.href="//"+commonObj.projectname+"/ui/error/error.html?random="+parseInt(1e4*Math.random()));t!=""?d(u,t,{success:function(){window.location.href=window.location.href.replace("&uuid="+t,"").replace("?uuid="+t,"")},fail:function(){window.location.href="//"+commonObj.projectname+"/ui/error/error.html?random="+parseInt(1e4*Math.random())}}):(e=window.location.search.trimStart("?").split("&"),i="",$.each(e,function(n,t){t.indexOf("foreurl")==0||t.indexOf("uuid")==0||(i+="&"+t)}),n.find("iframe").attr("src",f(r+"?1=1"+i)))},d=function(n,t,i){var r={userIdString:n,uuid:t};doAjaxFunction(h,"GetUserInf",r,{success:function(n){var t=new Function("","return "+n)();doAjaxFunction(h,"GetClientInfo",{},{success:function(n){try{var r=new Function("","return "+n)();t.mac=r.mac;t.ip=r.ip;setCookieMinutes("userInf",JSON.stringify(t),1440);i.success()}catch(u){i.fail("GetClientInfo执行失败<br/>"+u.message)}},fail:function(n){i.fail("GetClientInfo执行失败<br/>"+n)},error:function(n){i.fail("GetClientInfo执行失败<br/>"+n)}})},fail:function(n){i.fail("initUserInf执行失败<br/>"+n)},error:function(n){i.fail("initUserInf执行失败<br/>"+n)}})},g=function(n){var o,f,e;if(n=window.event||n,o=n.keyCode||n.which,n.keyCode==116||n.ctrlKey&&n.keyCode==82){if(window.event){try{n.keyCode=0}catch(n){}return n.returnValue=!1,!1}return n.preventDefault(),!1}if(n.keyCode==8){var i=n.target||n.srcElement,t=i.type||i.getAttribute("type"),r=i.getAttribute("readonly"),u=i.getAttribute("enabled");if((r=r==null?!1:r,u=u==null?!0:u,f=n.keyCode==8&&(t=="password"||t=="text"||t=="textarea")&&(r==!0||u!=!0)?!0:!1,e=n.keyCode==8&&t!="password"&&t!="text"&&t!="textarea"?!0:!1,e&&i.className!="note-editable")||f)return!1}},v={initPageSize:p,pageLoad:k,changeUrl:b,resizeEnd:i,documentKeyDownFunction:g};return v}();containerObj.pageLoad();containerObj.initPageSize();window.changeUrl=function(n,t){containerObj.changeUrl(n,t)};$(window).on("resize",function(){containerObj.resizeEnd()});window.onkeydown=function(n){return containerObj.documentKeyDownFunction(n)}});