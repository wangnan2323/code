function doDoublePieChart(n,t,i,r){this.bind=function(u){var f=t[i],e=null,o=Highcharts.getOptions().colors,s=f.datawhere,c,h;s=initWhereStringByQueryParameterHashMap(r,s,n.paragraphid,f.targetdiv);c=typeof f.dataorderby;switch(c){case"object":case"undefined":f.dataorderby=""}h=JSON.stringify({dataNameString:f.dataname,whereString:s,columnsString:f.datacolumn,orderByString:f.dataorderby,pageSizeString:"",pageIndexString:""});doAjaxFunction(_commonserviceurl+"GetCommonData",h,{success:function(s){var l=new Function("","return "+s)().rows,c=$.grep(l,function(n){return n.td1.length==4},!1),a=[],v=[];$.each(c,function(n){a.push({name:c[n].td2,y:Number(c[n].td3),color:o[n]});var t=$.grep(l,function(t){return t.td1.length==8&&t.td1.indexOf(c[n].td1)==0},!1);$.each(t,function(i){var r=.2-i/t.length/5;v.push({name:t[i].td2,y:Number(t[i].td3),color:Highcharts.Color(o[n]).brighten(r).get()})})});e=[{data:a,size:"60%",type:"pie",dataLabels:{enable:!0,color:"#ffffff",connectorColor:"#ffffff",distance:-30}},{data:v,size:"80%",type:"pie",innerSize:"60%",dataLabels:{enable:!0,color:"#000000",connectorColor:"#000000",distance:5}}];$("#div_"+n.paragraphid+">#div_row>#"+f.targetdiv+"").highcharts({chart:{type:"pie",borderRadius:0,shadow:!1,plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1},title:{text:f.title},subtitle:{enabled:!1},credits:{enabled:!1},exporting:{enabled:!1},tooltip:{enabled:!0,formatter:function(){return this.point.name+":<br/> "+this.point.y+""}},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{format:"<b>{point.name}<\/b>: {point.percentage:.1f} %"},shadow:!1,center:["50%","50%"],showInLegend:!0},series:{}},series:e});setTimeout(function(){u.successHandler(n,t,i,r)},500);e=null;h=null;o=null;ajaxResultJson=null;l=null;dataJson2=null;brightness=null},fail:function(n){alert(n)}})}}
