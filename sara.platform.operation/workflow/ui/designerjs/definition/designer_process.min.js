$(document).ready(function(){draw2d.designer_process=function(n){draw2d.Workflow.call(this,n);this.html.style.backgroundImage="";this.html.className="designer-process-canvas";this.disabled=!1;this.process=new draw2d.Workflow};draw2d.designer_process.prototype=new draw2d.Workflow;draw2d.designer_process.prototype.type="designer_process";draw2d.designer_process.prototype.setDisabled=function(){return this.disabled=!0,this.readOnly};draw2d.designer_process.prototype.addFigure=function(n,t,i){var r=this.getBestCompartmentFigure(t,i);r===null?draw2d.Workflow.prototype.addFigure.call(this,n,t,i):this.getCommandStack().execute(new draw2d.CommandAdd(this,n,t,i,r))};draw2d.designer_process.prototype.createActivity=function(n,t,i){var r=this.getBestCompartmentFigure(t,i);this.getCommandStack().execute(new draw2d.CommandAdd(this,n,t,i,r))};draw2d.designer_process.prototype.getContextMenu=function(){if(this.readOnly)return null;var n=new draw2d.ContextMenu(100,50),t={workflow:this};return n.appendMenuItem(new draw2d.ContextMenuItem("属性","icon-properties",t,function(){var n=this.getData(),t=n.workflow,i=t.processId;openProcessProperties(i)})),n.appendMenuItem(new draw2d.ContextMenuItem("关闭","icon-back",t,function(){btn_cancle_designer_onclick()})),n};draw2d.designer_process.prototype.onContextMenu=function(n,t){var r,i;this.readOnly||(r=this.getBestFigure(n,t),r==null&&(r=this.getBestLine(n,t)),r!=null?(i=r.getContextMenu(),i!==null&&this.showMenu(i,n,t)):(i=this.getContextMenu(),i!==null&&this.showMenu(i,n,t)))};draw2d.designer_process.prototype.toAllJsonString=function(){var n='{"sys_id":"'+this.process.id+'",',r,u,f,e,o,t,s,i;for(n+='"sys_version":"'+this.process.sys_version+'",',n+='"sys_remark":"'+this.process.sys_remark+'",',n+='"lcmc":"'+this.process.lcmc+'",',n+='"lcms":"'+this.process.lcms+'",',n+='"lcsx":"'+this.process.lcsx+'",',n+='"sfzlc":"'+this.process.sfzlc+'",',n+='"flcjddyid":"'+this.process.flcjddyid+'",',n+='"lcksjddyid":"'+this.process.lcksjddyid+'",',n+='"lcjsjddyid":"'+this.process.lcjsjddyid+'",',n+='"ywbmc":"'+this.process.ywbmc+'",',n+='"ywbzjmc":"'+this.process.ywbzjmc+'",',n+='"sys_lastedituserid":"'+_sys_userid+'",',n+='"sys_lasteditusername":"'+_sys_username+'",',n+='"sys_lasteditdatetime":"'+_datetime.toLocaleString()+'"',n+="}",r="",u=this.getFigures(),t=0;t<u.getSize();t++)f=u.get(t),r+=t==0?f.toJsonString():","+f.toJsonString();for(e="",o=this.getLines(),t=0;t<o.getSize();t++)s=o.get(t),e+=t==0?s.toJsonString():","+s.toJsonString();return i="{",i+='"t_dy_lc":\''+n+"',",i+='"t_dy_jd":['+r+"],",i+='"t_dy_ljx":['+e+"]",i+"}"};draw2d.designer_process.prototype.toJsonString=function(){var n='{"sys_id":"'+this.process.id+'",';return n+='"sys_version":"'+this.process.sys_version+'",',n+='"sys_remark":"'+this.process.sys_remark+'",',n+='"lcmc":"'+this.process.lcmc+'",',n+='"lcms":"'+this.process.lcms+'",',n+='"lcsx":"'+this.process.lcsx+'",',n+='"sfzlc":"'+this.process.sfzlc+'",',n+='"flcjddyid":"'+this.process.flcjddyid+'",',n+='"lcksjddyid":"'+this.process.lcksjddyid+'",',n+='"lcjsjddyid":"'+this.process.lcjsjddyid+'",',n+='"ywbmc":"'+this.process.ywbmc+'",',n+='"ywbzjmc":"'+this.process.ywbzjmc+'",',n+='"sys_lastedituserid":"'+_sys_userid+'",',n+='"sys_lasteditusername":"'+_sys_username+'",',n+='"sys_lasteditdatetime":"'+_datetime.toLocaleString()+'"',n+"}"};draw2d.designer_process.prototype.sys_remark="";draw2d.designer_process.prototype.lcmc="";draw2d.designer_process.prototype.lcms="";draw2d.designer_process.prototype.sys_version="";draw2d.designer_process.prototype.lcsx="";draw2d.designer_process.prototype.sfzlc="";draw2d.designer_process.prototype.flcjddyid="";draw2d.designer_process.prototype.lcksjddyid="";draw2d.designer_process.prototype.lcjsjddyid="";draw2d.designer_process.prototype.ywbmc="";draw2d.designer_process.prototype.ywbzjmc=""});
