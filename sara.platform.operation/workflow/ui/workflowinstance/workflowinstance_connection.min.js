function initConnection(){$("#txt_ljxlx").combobox({multiple:!1,editable:!1,data:[{value:"0",label:"后继"},{value:"1",label:"流程启动连接线"},{value:"2",label:"流程结束连接线"},{value:"3",label:"退回"},{value:"4",label:"驳回"},{value:"5",label:"启动子流程"},{value:"6",label:"子流程结束连接线"},{value:"7",label:"远程连接线"}],valueField:"value",textField:"label"});$("#txt_ljxzt").combobox({multiple:!1,editable:!1,data:[{value:"0",label:"未进行操作"},{value:"1",label:"已经通过"},{value:"2",label:"不会通过"}],valueField:"value",textField:"label"});$("#txt_sys_id").val(_currentConnection.id);$("#txt_sys_version").val(_currentConnection.sys_version);$("#txt_sys_remark").val(_currentConnection.sys_remark);$("#txt_ljxmc").val(_currentConnection.ljxmc);$("#txt_ljxslmc").val(_currentConnection.ljxslmc);$("#txt_ljxlx").combobox("select",_currentConnection.ljxlx);$("#txt_ljxzt").combobox("select",_currentConnection.ljxzt);$("#txt_fk_dy_lc_sys_id").val(_currentConnection.fk_dy_lc_sys_id);$("#txt_fk_dy_jd_sys_id_from").val(_currentConnection.fk_dy_jd_sys_id_from);$("#txt_fk_dy_jd_sys_id_to").val(_currentConnection.fk_dy_jd_sys_id_to);$("#txt_fk_sl_lc_sys_id").val(_currentProcess.process.id);$("#txt_fk_sl_jd_sys_id_from").val(_currentConnection.sourcePort.parentNode.id);$("#txt_fk_sl_jd_sys_id_to").val(_currentConnection.targetPort.parentNode.id);$("#txt_fk_dy_ljx_sys_id").val(_currentConnection.fk_dy_ljx_sys_id)}function btn_save_connection(){_currentConnection.id=$("#txt_sys_id").val();_currentConnection.sys_version=$("#txt_sys_version").val();_currentConnection.sys_remark=$("#txt_sys_remark").val();_currentConnection.ljxmc=$("#txt_ljxmc").val();_currentConnection.ljxslmc=$("#txt_ljxslmc").val();_currentConnection.ljxlx=$("#txt_ljxlx").combo("getValue");_currentConnection.ljxzt=$("#txt_ljxzt").combo("getValue");_currentConnection.fk_dy_lc_sys_id=$("#txt_fk_dy_lc_sys_id").val();_currentConnection.fk_dy_jd_sys_id_from=$("#txt_fk_dy_jd_sys_id_from").val();_currentConnection.fk_dy_jd_sys_id_to=$("#txt_fk_dy_jd_sys_id_to").val();_currentConnection.fk_sl_lc_sys_id=$("#txt_fk_sl_lc_sys_id").val();_currentConnection.fk_sl_jd_sys_id_from=$("#txt_fk_sl_jd_sys_id_from").val();_currentConnection.fk_sl_jd_sys_id_to=$("#txt_fk_sl_jd_sys_id_to").val();_currentConnection.fk_dy_ljx_sys_id=$("#txt_fk_dy_ljx_sys_id").val();_currentConnection.setLineText(_currentConnection.ljxmc);switch(_currentConnection.ljxlx){case"0":_currentConnection.setLineColor(0,0,0);break;case"1":_currentConnection.setLineColor(0,255,0);break;case"2":_currentConnection.setLineColor(255,0,0);break;case"3":_currentConnection.setLineColor(255,255,0);break;case"4":_currentConnection.setLineColor(255,0,0);break;case"5":_currentConnection.setLineColor(0,0,0);break;case"6":_currentConnection.setLineColor(0,0,0);break;case"7":_currentConnection.setLineColor(0,0,0)}var n=_currentConnection.toJsonString(),t='{"columns":\'sys_id^sys_version^sys_remark^ljxmc^ljxslmc^ljxlx^ljxzt^fk_dy_lc_sys_id^fk_dy_jd_sys_id_from^fk_dy_jd_sys_id_to^fk_sl_lc_sys_id^fk_sl_jd_sys_id_from^fk_sl_jd_sys_id_to^fk_dy_ljx_sys_id\',"clientInf":\''+_clientInf+"',\"json\":'"+n+"'}";$.ajax({type:"post",contentType:"application/json",url:_serviceConnectionUrl+"Update",data:t,dataType:"json",success:function(n){var t=new Function("","return "+n.d)();t.result=="true"?showMessage("保存成功。","result","window"):showMessage("保存失败。<br/>以下信息可能有助于解决此问题：<br/>"+t.message+"","error","window")},error:function(n){alert(n.responseText)},complete:function(n){clearXmlHttpRequest(n)}})}
